100 REM A PROGRAM TO CONVERT $xxxx TO _xxxx AND LEAVE THE REST ALONE
110 LINPUT "INPUT  ";FILE_INPUT$
120 OPEN FILE_INPUT$ FOR INPUT AS FILE #1,ACCESS READ
130 LINPUT "OUTPUT ";FILE_OUTPUT$
140 OPEN FILE_OUTPUT$ FOR OUTPUT AS FILE #2, ACCESS WRITE,ORGANIZATION SEQUENTIAL VARIABLE
150 LINPUT "NAME ";C$
160 ON ERROR GOTO 900				!WHEN OUT OF INPUT, EXIT.
170 PRINT #2,"	NLIST"				! NLIST in output.
180 PRINT #2,C$					!NAME equ * in output.
200 INPUT #1,A$					!READ A NEW RECORD.
210 IF MID$(A$,1,1) <> "$" THEN PRINT #2,A$
220 IF MID$(A$,1,1) =  "$" THEN PRINT #2,"_";MID$(A$,2,LEN(A$))
230 GOTO 200					!LOOP FOR MORE INPUT.
900 RESUME 910					!OUT OF INPUT,
910 PRINT #2,"	LIST"				! LIST in output.
920 CLOSE #2					!  CLOSE OUTPUT FILE.
30000 END
